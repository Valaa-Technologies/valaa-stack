<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>&#x22;I am a ValOS technician, I want to enable valonauts and expand valospace&#x22;</title>
    <script
     src='https://www.w3.org/Tools/respec/respec-w3c-common'
     class='remove'></script>
    <script class='remove'>
      var respecConfig = {"specStatus":"unofficial","editors":[{"name":"Iridian Kiiskinen","url":"https://valaatech.github.io/fabric/authors/iridian","github":"http://github.com/valospace"}],"authors":[],"shortName":"technician"};
    </script>
    <link rel = "stylesheet" type = "text/css" href = "/summary.css" />
    
  </head>
  <body class="vdoc vdoc-body">
    
  <section id="abstract" class="vdoc type-vdoc-chapter"><div><p><span class="vdoc type-vdoc-paragraph">This document is the first introduction for ValOS technicians -
the primary infrastructure developers and operators - to the ValOS
ecosystem and its infrastructure toolchains and workflows.</span>
</p></div>
  </section>

  <section id="sotd" class="vdoc type-vdoc-chapter"><div><p><span class="vdoc type-vdoc-paragraph">This document is part of the vault workspace <a href="@valos/kernel" class="vdoc type-revdoc-package"><em>@valos/kernel</em></a>
(of domain <a href="@valos/kernel" class="vdoc type-revdoc-package"><em>@valos/kernel</em></a>) which has the description:
&#x60;ValOS common infrastructure tools and libraries monorepository&#x60;.</span>
</p></div>
<blockquote class="vdoc type-revdoc-example">
    <span class="vdoc type-vdoc-node">
NOTE(2019-08): This document is severely &#x60;OUTDATED and SEMANTICALLY UNRELIABLE&#x60;.
This content is what used to be in DEVOPS.md, is relatively old and
needs to be revised. The specification needs to be extracted to be
a separate document from the devops workflows.</span>

</blockquote>
  </section>

  <section id="introduction" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#introduction">§ </a>How do I enable valonauts and expand the Valospace?</h3>
<div><p><span class="vdoc type-vdoc-paragraph">As a technician you develop and operate the <strong><a href="#fabric" class="vdoc type-vdoc-reference">ValOS fabric</a></strong>, the globally distributed web-like infrastructure of servers,
    services and components which underlies the Valospace.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">You use <a href="valma" class="vdoc type-vdoc-reference">vlm</a> and employ your existing,
likely professional knowledge of JavaScript, Node.js, DevOps,
backend, library and other software development skills.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">You create new open source and/or proprietary node packages. These
permanently create new fabric functionalities and <a href="expand" class="vdoc type-vdoc-reference">expand</a> the Valospace by integrating it to old world systems.</span>
</p></div>
  </section>

  <section id="section_profiles" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#section_profiles">§ </a>Technician role sub-profiles</h3>
<div><p><span class="vdoc type-vdoc-paragraph">Technician sub-profiles detail the typical stages of software
development and operations workflows within ValOS ecosystem.
A technician should read the detail docs of their own profiles
but also understand the at least the abstract principles of all
other profiles, which are expanded below.</span>
</p></div>
  <section id="developer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#developer">§ </a>How developers set up their development environments</h3>

  </section>

  <section id="contributor" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#contributor">§ </a>How contributors produce git PR&#x27;s and new fabric packages</h3>

  </section>

  <section id="tester" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#tester">§ </a>How testers assure quality before releases</h3>

  </section>

  <section id="administrator" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#administrator">§ </a>How administrators manage infrastructure resources</h3>

  </section>

  <section id="devops" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#devops">§ </a>How DevOps workflows are implemented using valma</h3>

  </section>

  <section id="hacker" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#hacker">§ </a>How hackers have fun whilst avoiding pain</h3>

  </section>

  <section id="etc" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#etc">§ </a>How to add new profiles</h3>
<div><p><span class="vdoc type-vdoc-paragraph">Create a <a href="https://help.github.com/en/articles/about-pull-requests" class="vdoc type-vdoc-reference">PR in github</a> against @valos/kernel/revdocs/technician.revdoc.js</span>
</p></div>
  </section>

  </section>

  <section id="preface" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#preface">§ </a>*IMPORTANT</h3>
<div><p><span class="vdoc type-vdoc-paragraph">This document, like most of the more principled and less pragmatic
documents must be understood as strong speculation and as an
architectural exercise (although a very serious one) on
what-could-be.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">This rings especially true for the primary focus of this document,
ie. for <em>ValOS Core</em> as the fully functional open source
core around which the often proprietary ValOS ecosystem would expand.
This is an ambitious, even presumptuous attempt to facilitate the
fruitful side-by-side living of open source communities as well as
private enterprises as a combination of technical and social
architecture.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">(The technical part is the ambitious part and the social part is
the presumptuous part. :D)</span>
</p></div>
  </section>

  <section id="specification" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#specification">§ </a>ValOS specification</h3>
<div><p><span class="vdoc type-vdoc-paragraph">This document has two purposes. Firstly it provides the initial
specification of Valaa Open System (<em>ValOS</em>) and secondly
it serves as the introduction for <a href="https://en.wikipedia.org/wiki/DevOps" class="vdoc type-vdoc-reference">Development Operations</a>.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">ValOS specification is provided as quoted and numbered ValOS rules.<blockquote><em>valos-vault-1.1</em>: <em>ValOS packages</em> are
    all the npmjs.com packages with <em>@valos</em> scope which
    don&#x27;t have cyclic dependencies with other <em>@valos</em>
    scope packages.</blockquote><blockquote><em>valos-vault-1.2</em>: Valaa Open System (<em>ValOS</em> is defined to be the contents of all ValOS
    packages and nothing else.</blockquote><blockquote><em>valos-vault-1.3</em>: <em>ValOS specification</em>
    consists of all files in all ValOS packages whose path in the
    package matches the JS regex <em>/^specifications\/\w*.md$/</em>
    and nothing else.</blockquote><blockquote><em>valos-vault-1.4</em>: Rules in a package are considered
    to be more specific than the rules in its package dependency tree.
    More specific rules take precedence.</blockquote><blockquote><em>valos-vault-1.5</em>: All packages which conform to
    ValOS specification are called <em>ValOS packages</em>. These
    packages are inclusively considered part of the <em>ValOS ecosystem</em>.</blockquote></span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">The system is structured into purpose-oriented vertical <em>domains</em>
and into four content oriented horizontal <em>utility layers</em>.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Each utility layer is named by the content or service is provides
and builds or depends on the previous layers.
    <ul>
      <li><em>files</em> layer provides files via git repositories.</li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>packages</em> layer provides npm packages via npm registry.
  These packages are created by git repositories called <em>vaults</em>.</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>authorities</em> layer provides the ValOS live authority
  service APIs. Authorities are deployed and managed with <em>opspace</em> workspaces.</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>partitions</em> layer provides the resource content as
  partition events and bvobs. These are served via authority
  service APIs.</span>
</p></div></li>
    </ul>
</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">TODO(iridian): Figure out and describe the concrete role of domains.
NOTE(iridian, 2019-08): Domains are now mostly figured out; they
are administrative, organisational units and namespaces.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">A DevOp manages these layers by scripts that are delivered inside
the packages alongside their main content. A command line tool called
ValOS Medium or <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm</span>
</em></strong> is used to discover and <em>invoke</em>
these scripts as <em>valma commands</em>.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">From a DevOps perspective <em>valma</em>, <em>vault</em> and <em>opspace</em> are the three concrete core mechanisms that everything
else ties into.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Valma and specific domains are specified in other documents and as such
are only briefly described here.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">The utility layers are common to everything form the bulk of this
document. They are fully specified at the last part of this document
after all the brief descriptions.</span>
</p></div>
  </section>

  <section id="domains" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#domains">§ </a>ValOS &#x60;domains&#x60; are cross-stack slices, each with a well-defined purpose</h3>
<div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-2.1</em>: A <em>domain</em> is the
    collection of all the systems, interactions and dynamics which
    exclusively serve a particular purpose.</blockquote><blockquote><em>valos-vault-2.2</em>: A domain must define the
    purpose, describe its producers and consumers and should
    provide a direction for technical and operational structure as
    well.</blockquote>For example the <a href="@valos/kernel" class="vdoc type-revdoc-package"><em>@valos/kernel</em></a> domain provides the
essential central ValOS code for developing new ValOS
infrastructure software. Its main producers are the kernel software
developers and its consumers are the infrastructure software
developers. It revolves around developing code as library packages.</span>
</p></div>
  </section>

  <section id="valma" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#valma">§ </a>&#x60;valma&#x60; - a convenience CLI to context-dependent command scripts</h3>
<div><p><span class="vdoc type-vdoc-paragraph">valma (<strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm</span>
</em></strong> in CLI) is a convenience tool for executing
command scripts exported by packages in valos workspace contexts.
It is a generalization of &#x27;npx -c&#x27; behaviour, adding
discoverability, ability to invoke global scripts and the ability
to invoke multiple scripts at once using glob matching.<blockquote><em>valos-vault-3.1</em>: valma is installed with <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">npm install -g valma</span>
</em></strong> or as a package dependency</blockquote>This installs the global CLI command <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm</span>
</em></strong>. At its core
valma is a command dispatcher to <em>valma scripts</em> in
various <em>command pools</em>.<blockquote><em>valos-vault-3.2</em>: valma searches the scripts
    first from the package.json <em>scripts</em> pool, then from <em>./node_modules/.bin/</em><em>depends</em> pool and lastly from
    the OS-specific variant of <em>/usr/bin</em><em>global</em> pool.</blockquote>As an example typing <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm status</span>
</em></strong> in some directory
context would forward the command to <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">valma.bin/valma-status</span>
</em></strong> first if one exists and falling back to the more generic versions
if not. The call eventually resolves at the global <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">/usr/bin/valma-status</span>
</em></strong>. Its implementation then calls <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm .status/**/*</span>
</em></strong> which calls all scripts which match
the glob <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">.valma-status/**/*</span>
</em></strong> and are visible on the
execution context pools (the scripts called by <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm status</span>
</em></strong> are known as <em>valma status scripts</em>).<blockquote><em>valos-vault-3.3</em>: A package can export valma scripts using npm package.json <em>bin</em> section and by prefixing the exported name with <em>valma-</em> as usual. These scripts will be available for
    all packages depending on this package in their <em>depends</em> pool.</blockquote>Running <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm</span>
</em></strong> with no arguments lists all available
commands grouped by pool in current directory context.<blockquote><em>valos-vault-3.5</em>: valma can be used in programmatic contexts to run valma
    scripts. When done so, valma must be added as a dependency.</blockquote>This happens just like with the CLI by using <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm &#x3C;command&#x3E; [&#x3C;args&#x3E;]</span>
</em></strong>.
(&#x22;npx -c&#x22; would be the alternative but it&#x27;s slow and limited).<blockquote><em>valos-vault-3.5.1</em>: valma ensures that node environment is loaded</blockquote>The environment is loaded only once even for recursive script
invokations.<blockquote><em>valos-vault-3.5.2</em>: valma ensures that &#x27;vlm&#x27; is always found in path</blockquote>This is so that valma scripts can call &#x27;vlm&#x27; even valma is not
globally installed as long as valma has been installed as a dependency.<blockquote><em>valos-vault-3.5.3</em>: valma ensures that the most specific &#x27;vlm&#x27; version is used
    to evaluate a command, preferring scripts over depended over global.</blockquote>This is so that toolkits can precisely control the whole toolchain
in their dependencies.</span>
</p></div>
  </section>

  <section id="utility_layer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#utility_layer">§ </a>ValOS &#x60;utility&#x60; layers provide operational services</h3>
<div><p><span class="vdoc type-vdoc-paragraph">ValOS has four main utility layers: <em>files</em>, <em>packages</em>,
<em>authorities</em> and <em>partitions</em>. These layers form
the core operational infrastructure of ValOS.</span>
</p></div>
  <section id="utility_layer_overview" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#utility_layer_overview">§ </a>Overview of utility layers</h3>
<div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.1.1</em>: An <em>utility</em> is a domain
    with a well-defined operational purpose.</blockquote><blockquote><em>valos-vault-4.1.2</em>: utility must explicitly define
    the <em>payload</em> it provides to its consumers as well as the
    providers, tools and workflows used to manage that payload.</blockquote>Below is a rough correlation of similar concepts across utilities.</span>
</p></div>
    <table class="vdoc type-vdoc-table">
      <thead>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
        <th><br></th>
      </thead>
      <tbody>
        <tr class=" vdoc-nth-child-2n"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr class=" vdoc-nth-child-2n"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
      </tbody>
    </table>
<div><p><span class="vdoc type-vdoc-paragraph">
    <ul>
      <li><em>Utility</em>- the utility layer which is being described</li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Tool</em> - the name of the tool used to manipulate the payload and/or metadata</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Payload</em> - the content or the service the utility delivers to consumers</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Providers</em> - the authoritative source for the payload</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Consumed via</em> - the mechanism used by a consumer to access the payload</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Upstream</em> - the possible external source of payload updates</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Configuration</em> - where the configuration of the utility itself is specified</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Modifed via</em> - how to make local changes to the payload</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Produced via</em> - how to request for a set of local changes to be distributed</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Authority</em> - who accepts and distributes a change request</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph"><em>Distributed via</em> - how changes are made live to all consumers</span>
</p></div></li>
    </ul>
Note that <em>files</em> and <em>partitions</em> don&#x27;t have
an external upstream and thus these bands are the defining
authority of all of their payload.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">On the other hand <em>packages</em> and <em>authorities</em> use
the <em>files</em> as their external upstream: their payload is
generated from the content in git repositories. Making updates to
such utility content thus requires:
    <ol>
      <li>modifying the corresponding upstream git repository</li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">distributing the git changes (a PR followed with <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">git push master</span>
</em></strong>)</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">distributing the utility update (<strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">publish-packages</span>
</em></strong> or <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">deploy-release</span>
</em></strong>).</span>
</p></div></li>
    </ol>

Step 3 can be automated by tooling in particular domains as a response
to particularily formed git repository updates.</span>
</p></div>
  </section>

  <section id="files_layer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#files_layer">§ </a>Files utility layer has files committed in git repositories</h3>
<div><p><span class="vdoc type-vdoc-paragraph"><a href="https://git-scm.com/" class="vdoc type-vdoc-reference">git</a> is the industry standard
for version managing sets of files in a non-centralized ecosystem.
No additional tools are provided because there is no need.<blockquote><em>valos-vault-4.2.1</em>: ValOS tools should use git as the files provider.</blockquote>While github.com is the de facto standard provider and
the typical choice it must *not* be _required_.<blockquote><em>valos-vault-4.2.2</em>: All git providers must be fully supported by all ValOS tools and
    libraries.</blockquote></span>
</p></div>
  </section>

  <section id="packages_layer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#packages_layer">§ </a>Packages utility layer has shared, versioned, dependable sets of files published as npmjs.com packages</h3>
<div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.3.1</em>: The packages utility payload is <a href="https://docs.npmjs.com/getting-started/packages" class="vdoc type-vdoc-reference">npmjs.com packages</a></blockquote>These packages can be libraries, toolsets or prebuilt release runtimes
- any sets of files really. The raison d&#x27;&#xEA;tre for packages is when
several different consumers depend on the same set of files which are
also expected to undergo periodic development. The files thus need
versioning, dependency management and automated distribution - this all
is provided by npm.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Note: npmjs.com is a javascript repository - this should not be
a problem as long as ValOS remains mostly javascript and config files.
If a need to diversity the languages arises a <a href="https://docs.npmjs.com/misc/registry#can-i-run-my-own-private-registry" class="vdoc type-vdoc-reference">private npm registry</a>can be set up for that purpose.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">valma package commands: <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm assemble-packages</span>
</em></strong> <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm publish-packages</span>
</em></strong></span>
</p></div>
  </section>

  <section id="authorities_layer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#authorities_layer">§ </a>Authorities utility layer has the authority deployments on infrastructure services</h3>
<div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.1</em>: A ValOS <em>authority</em> is uniquely identified by an
    authority URI.</blockquote><a href="packages/raem/README.md" class="vdoc type-vdoc-reference">Read more about valos URIs</a>.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.2</em>: A ValOS <em>authority</em> can contain ValOS <em>partitions</em> and must provide a mechanism for
    accessing event logs and bvob content as well as for
    accepting and authorizing incoming commands into authorized
    partition events.</blockquote>Authorities are usually live deployments on some
infrastructure and they provide service APIs as the required
mechanisms.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Stateless or in some way non-infrastructural authorities also exist but
are specified elsewhere (they are considered degenerate, without
upstream and with empty payload).</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><a href="packages/sourcerer/README.md" class="vdoc type-vdoc-reference">Read more about authorities</a>.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.3</em>: Authorities utility layer payload (<em>authority payload</em>)
    is a set of deployed authority service APIs and any associated
    static content.</blockquote>The payload here refers to the service deployments and their live APIs
themselves and not any dynamic content delivered through them. Such
dynamic content belongs to other domains (notably valospace content
resides in the <em>partitions</em> utility layer, see below).</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">The static content includes HTTP landing pages, site routes and their
configurations, ValOS gateway and spindle runtimes and any other similar
statically configured files.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.4</em>: An authority may have
    an operations workspace (<em>opspace</em>) as its upstream for
    managing its payload.</blockquote></span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Particular authorities are naturally free to implement their
operational architectures in any way they like. This said opspaces
have a well-defined structure which valma authority tools make use of.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Updates to the authority payloads are primarily done as modifications
to the corresponding opspace and then distributing those via release
deployments.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.5</em>: An opspace should not
    be published as a package.</blockquote></span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">While opspaces make use of package.json and the npm dependency
management this provides, they can also contain considerable amounts of
static content. Also, there should be no reason to depend on an opspace.
Automatic release deployment systems should have access to a opspace
directly for building the release.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph"><blockquote><em>valos-vault-4.4.6</em>: Information must not move
    from deployed authorities back to authority utility layer
    upstream.</blockquote></span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Information flowing back upstream increases complexity, prevents
decentralized and manual upstreams (there is a definite upstream which
must be always accessible), and are a security concern (for
programmatic access the downstream must have the upstream credentials).</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">If a use case necessitating this arises, still seriously consider
keeping the mutateable content separate from the upstream itself and
instead have upstream only contain the necessary code and credentials
to access this content.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Note: this applies to architectural decisions and automations only.
Interactive content in valospace is not limited from using an opspace
to update authorities (although it is still recommended to keep such
valospace applications deployments separate from the authorities they
are used to control).</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">valma opspace commands: <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm build-release</span>
</em></strong> <strong><em class="vdoc type-revdoc-command"><span class="vdoc type-vdoc-node">vlm deploy-release</span>
</em></strong></span>
</p></div>
  <section class="vdoc type-vdoc-chapter">
    <h3>ValOS core vs. auxiliary authorities</h3>
<div><p><span class="vdoc type-vdoc-paragraph">ValOS authorities and any partition content they provide do not need
to be public. A ValOS core authority is an authority which can be
accessed using only ValOS core spindles (including no spindles at all).</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">A ValOS auxiliary authority is an authority which requires a conforming
but non-core ValOS gateway spindle in order to be accessed.</span>
</p></div>
<blockquote class="vdoc type-revdoc-example">
    <span class="vdoc type-vdoc-node">Design Note 2019-03: the spindle conformance requirements are
unspecified. When they are specified they must be lenient enough to
enable sophisticated protocols but constrained/sandboxed enough that
such spindles cannot interfere with other reasonably written spindles.</span>

</blockquote>
  </section>

  </section>

  <section id="partitions_layer" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="§" href="#partitions_layer">§ </a>Partitions utility layer - the foundation of valospace</h3>
<div><p><span class="vdoc type-vdoc-paragraph">Event logs and bvob content are the partitions payload and are
consumed by ValOS gateways. It is more extensively covered elsewhere
and is mentioned here for completeness; precious little infrastructural
tooling is provided for them yet.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">Eventually various partition diagnostics tools will come in handy:
    <ul>
      <li>Media content import/export tools</li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">Complete partition to file system hierarchy save/load tools</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">Event log introspection and manipulation tools</span>
</p></div></li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">etc.</span>
</p></div></li>
    </ul>
</span>
</p></div>
  <section class="vdoc type-vdoc-chapter">
    <h3>ValOS public vs protected partitions</h3>
<div><p><span class="vdoc type-vdoc-paragraph">All partitions provided by ValOS authorities are ValOS partitions.
Additionally ValOS public partitions are partitions which are both
    <ol>
      <li>provided by ValOS core authorities, and</li>
      <li><div><p><span class="vdoc type-vdoc-paragraph">are available for an anonymous consumer with nothing but a client
  capable of running the ValOS gateway runtime which the authority
  itself provides (with reasonable concessions for the authority to
  prevent DDOS attacks)</span>
</p></div></li>
    </ol>
</span>
</p></div>
<blockquote class="vdoc type-revdoc-example">
    <span class="vdoc type-vdoc-node">TODO(iridian): Figure out whether this is actually the most meaningful
place to assign this semantic border. A specific term for
non-authenticated partitions capable of running only on standard
runtime is useful, but how useful actually?</span>

</blockquote>
  </section>

  </section>

  </section>

  <section class="vdoc type-vdoc-chapter">
    <h3>Kernel domain provides the ValOS primary libraries</h3>
<div><p><span class="vdoc type-vdoc-paragraph">It does, indeed (this section pending better understanding on how to
write domain specifications).</span>
</p></div>
  </section>

  </body>
</html>
