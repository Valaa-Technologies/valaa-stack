<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>ValOS state serialization format</title>
    <script
     src='https://www.w3.org/Tools/respec/respec-w3c-common'
     class='remove'></script>
    <script class='remove'>
      var respecConfig = {"specStatus":"unofficial","editors":[{"name":"Iridian Kiiskinen","url":"https://valaatech.github.io/fabric/authors/iridian","github":"http://github.com/valospace"}],"authors":[],"shortName":"stateFormat"};
    </script>
    <link rel = "stylesheet" type = "text/css" href = "/summary.css" />
    
  </head>
  <body class="vdoc vdoc-body">
    
  <section id="abstract" class="vdoc type-vdoc-chapter"><div><p><span class="vdoc type-vdoc-paragraph">ValOS state format specification for serializing valospace state into
a JSON-LD document with a well-defined underlying semantic ontology.</span>
</p></div>
  </section>

  <section id="sotd" class="vdoc type-vdoc-chapter"><div><p><span class="vdoc type-vdoc-paragraph">This document is a stub of a specification and only contains a single
example that is used as the model for the specification.</span>
</p></div><div><p><span class="vdoc type-vdoc-paragraph">This document is part of the library workspace <a href="https://valospace.org/sourcerer" class="vdoc type-revdoc-package"><em>@valos/sourcerer</em></a>
(of domain <a href="@valos/kernel" class="vdoc type-revdoc-package"><em>@valos/kernel</em></a>) which has the description:
&#x60;ValOS Sourcerer API, schema&#x60;</span>
</p></div>
  </section>

  <section id="introduction" class="vdoc type-vdoc-chapter">
    <h3><a aria-label="ยง" href="#introduction">ยง </a>Valospace state JSON-LD serialization</h3>
<div><p><span class="vdoc type-vdoc-paragraph">JSON-LD is the primary state format. Some of this information is lost
when it is expanded as triples.
</span>
</p></div>
<blockquote class="vdoc type-revdoc-example">
    <span id="state_example" class="vdoc type-vdoc-node">
    <h3><a aria-label="ยง" href="#state_example">ยง </a>An example of state JSON-LD serialization</h3>
<pre><code><span class="vdoc type-vdoc-node">[{
  &#x22;@context&#x22;: [{
    &#x22;$V&#x22;: &#x22;https://valospace.org/#&#x22;,
    &#x22;@vocab&#x22;: &#x22;urn:valos:.:&#x22;,

    &#x22;/.&#x22;: { &#x22;@id&#x22;: &#x22;$V:properties&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@index&#x22; },
    &#x22;/.E&#x22;: { &#x22;@id&#x22;: &#x22;$V:entities&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@index&#x22; },
    &#x22;/.M&#x22;: { &#x22;@id&#x22;: &#x22;$V:medias&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@index&#x22; },
    &#x22;/*&#x22;: { &#x22;@id&#x22;: &#x22;$V:relations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@list&#x22; },
    &#x22;/out*&#x22;: { &#x22;@id&#x22;: &#x22;$V:outRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@list&#x22; },
    &#x22;/in*&#x22;: { &#x22;@id&#x22;: &#x22;$V:inRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@list&#x22; },

    &#x22;/_out*&#x22;: { &#x22;@id&#x22;: &#x22;$V:pairedOutRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@list&#x22; },
    &#x22;/_in*&#x22;: { &#x22;@id&#x22;: &#x22;$V:pairedInRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22;, &#x22;@container&#x22;: &#x22;@list&#x22; },
    &#x22;/_trg&#x22;: { &#x22;@id&#x22;: &#x22;$V:pairedTarget&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/_src&#x22;: { &#x22;@id&#x22;: &#x22;$V:pairedSource&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },

    &#x22;/-&#x22;: { &#x22;@id&#x22;: &#x22;$V:value&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/-E&#x22;: { &#x22;@id&#x22;: &#x22;$V:parent&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/-M&#x22;: { &#x22;@id&#x22;: &#x22;$V:content&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/-trg&#x22;: { &#x22;@id&#x22;: &#x22;$V:target&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/-src&#x22;: { &#x22;@id&#x22;: &#x22;$V:source&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },

    &#x22;$V--&#x22;: &#x22;https://valospace.org/removed-from#&#x22;,
    &#x22;/--.&#x22;: { &#x22;@id&#x22;: &#x22;$V--:properties&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/--.E&#x22;: { &#x22;@id&#x22;: &#x22;$V--:entities&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/--.M&#x22;: { &#x22;@id&#x22;: &#x22;$V--:medias&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/--*&#x22;: { &#x22;@id&#x22;: &#x22;$V--:relations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/--_out*&#x22;: { &#x22;@id&#x22;: &#x22;$V--:pairedOutRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },
    &#x22;/--_in*&#x22;: { &#x22;@id&#x22;: &#x22;$V--:pairedInRelations&#x22;, &#x22;@type&#x22;: &#x22;@id&#x22; },

    &#x22;$~u4&#x22;: { &#x22;@id&#x22;: &#x22;urn:valos:$~u4:&#x22;, &#x22;@prefix&#x22;: true },
    &#x22;$~pw&#x22;: { &#x22;@id&#x22;: &#x22;urn:valos:$~pw:&#x22;, &#x22;@prefix&#x22;: true },

    &#x22;$valos-sourcerer&#x22;: &#x22;https://valospace.org/sourcerer#&#x22;,
    &#x22;/hasGlobal&#x22;: { &#x22;@id&#x22;: &#x22;$valos-sourcerer:hasGlobal&#x22;, &#x22;@container&#x22;: &#x22;@type&#x22; },
  }, {
    &#x22;$pot&#x22;: &#x22;https://oftrust/#&#x22;,
    &#x22;$pot-hypertwin&#x22;: &#x22;https://pot.hypertwin.valospace.org/#&#x22;,
    &#x22;^pot-hypertwin-index&#x22;: &#x22;$~u4:55a5c4fb-1fd4-424f-8578-7b06ffdb3ef0&#x22;
  }, {
    &#x22;^thistwinroot&#x22;: &#x22;^pot-hypertwin-index:@~$~pw:@.$pot$:@-:7741938f-801a-4892-9cf0-dd59bd8c9166@@&#x22;,
    &#x22;^user1&#x22;: &#x22;^pot-hypertwin-index:@~$~pw:@.$pot$:@-:u535-b457-1710-aaaa-bbbbccccdddd@@&#x22;,
    &#x22;^user2&#x22;: &#x22;^pot-hypertwin-index:@~$~pw:@.$pot$:@-:u535-b457-1710-dddd-eeeeffff0000@@&#x22;
  }],
  &#x22;@id&#x22;: &#x22;http://foobar.com/?id=$~u4:55a5c4fb-1fd4-424f-8578-7b06ffdb3ef0:@~$~pw:@.$pot$:@-:7741938f-801a-4892-9cf0-dd59bd8c9166@@&#x22;,
  &#x22;/hasGlobal&#x22;: {
    &#x22;$V:Entity&#x22;: [{
      &#x22;@context&#x22;: {
        &#x22;^0&#x22;: &#x22;^thistwinroot:&#x22;,
        &#x22;^0-0&#x22;: &#x22;^0:@.E$pot-hypertwin:inLinks&#x22;
      },
      &#x22;@id&#x22;: &#x22;^0:&#x22;,
      &#x22;$V:name&#x22;: &#x22;thistwinname&#x22;,
      &#x22;$pot:&#x22;: &#x22;7741938f-801a-4892-9cf0-dd59bd8c9166&#x22;,
      &#x22;$pot:area&#x22;: 400,
      &#x22;blah%3Afoo&#x22;: &#x22;content&#x22;,
      &#x22;foo&#x22;: { &#x22;@id&#x22;: &#x22;^0:@.M:foo.vs&#x22; },
      &#x22;title&#x22;: &#x22;sumtext&#x22;,
      &#x22;/.&#x22;: {
        &#x22;foo&#x22;: { &#x22;@id&#x22;: &#x22;^0:@.:foo&#x22;, &#x22;$V:isFrozen&#x22;: true }
      },
      &#x22;/.E&#x22;: {
        &#x22;$pot-hypertwin:inLinks&#x22;: {
          &#x22;@id&#x22;: &#x22;^0-0:&#x22;,
          &#x22;/*&#x22;: [{
            &#x22;@id&#x22;: &#x22;^0-0:@_in*$pot:ownerOf:@_src:@$~pw:@.$pot$:@-:aa592f56-1d82-4484-8360-ad9b82d00592@@@@&#x22;,
            &#x22;$V:name&#x22;: { &#x22;@id&#x22;: &#x22;$pot:ownerOf&#x22; },
            &#x22;/_trg&#x22;: &#x22;^0:&#x22;,
            &#x22;/_src&#x22;: &#x22;^pot-hypertwin-index:@~$~pw:@.$pot$:@-:aa592f56-1d82-4484-8360-ad9b82d00592@@&#x22;
          }]
        }
      },
      &#x22;/.M&#x22;: {
        &#x22;foo.vs&#x22;: { &#x22;@id&#x22;: &#x22;^0:@.M:foo.vs&#x22; }
      },
      &#x22;/*&#x22;: [{
          &#x22;@id&#x22;: &#x22;^0:@_out*:PERMISSIONS@_:15-1&#x22;,
          &#x22;$V:name&#x22;: &#x22;PERMISSIONS&#x22;,
          &#x22;/_src&#x22;: &#x22;^0:&#x22;, &#x22;/-trg&#x22;: &#x22;^user1:&#x22;,
          &#x22;write&#x22;: true
        },
        &#x22;$~u4:b&#x22;, {
          &#x22;@id&#x22;: &#x22;^0:@_out*:PERMISSIONS@_:234-3&#x22;,
          &#x22;$V:name&#x22;: &#x22;PERMISSIONS&#x22;,
          &#x22;/_src&#x22;: &#x22;^0:&#x22;, &#x22;/-trg&#x22;: &#x22;^user2:&#x22;,
          &#x22;write&#x22;: false
        },
        &#x22;$~u4:d&#x22;
      ],
      &#x22;/_out*&#x22;: [
        &#x22;^0:@_out*:PERMISSIONS@_:15-1&#x22;,
        &#x22;^0:@_out*:PERMISSIONS@_:234-3&#x22;
      ],
      &#x22;/_in*&#x22;: [
        &#x22;$~u4:b&#x22;,
        &#x22;^0-0:@_in*$pot:ownerOf:@_src:@$~pw:@.$pot$:@-:aa592f56-1d82-4484-8360-ad9b82d00592@@@@&#x22;,
        &#x22;$~u4:d&#x22;
      ]
    }],
    &#x22;$V:Relation&#x22;: [{
      &#x22;@context&#x22;: { &#x22;^0&#x22;: &#x22;$~u4:b&#x22; }, &#x22;@id&#x22;: &#x22;^0:&#x22;
    }, {
      &#x22;@context&#x22;: { &#x22;^0&#x22;: &#x22;$~u4:d&#x22; }, &#x22;@id&#x22;: &#x22;^0:&#x22;
    }]
  }
}]</span>
</code></pre></span>

</blockquote><div><p><span class="vdoc type-vdoc-paragraph">
TODO.</span>
</p></div>
  </section>

  </body>
</html>
